import{u as re,C as ne}from"./chunk-Y3N5MZNS-a1e06c6b.js";import{a as B}from"./chunk-XHQUSKIE-c5e0d731.js";import{f as ie}from"./chunk-UWE6H66T-765a7095.js";import{$ as O}from"./focusSafely-0d0e41b4.js";import{r as s,j as u}from"./app-1e18f165.js";function I(){return I=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},I.apply(this,arguments)}function oe(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var ae=s.useLayoutEffect,se=function(e){var t=s.useRef(e);return ae(function(){t.current=e}),t},$=function(e,t){if(typeof e=="function"){e(t);return}e.current=t},de=function(e,t){var r=s.useRef();return s.useCallback(function(i){e.current=i,r.current&&$(r.current,null),r.current=t,t&&$(t,i)},[t])},k={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},ue=function(e){Object.keys(k).forEach(function(t){e.style.setProperty(t,k[t],"important")})},A=ue,a=null,N=function(e,t){var r=e.scrollHeight;return t.sizingStyle.boxSizing==="border-box"?r+t.borderSize:r-t.paddingSize};function le(n,e,t,r){t===void 0&&(t=1),r===void 0&&(r=1/0),a||(a=document.createElement("textarea"),a.setAttribute("tabindex","-1"),a.setAttribute("aria-hidden","true"),A(a)),a.parentNode===null&&document.body.appendChild(a);var i=n.paddingSize,o=n.borderSize,d=n.sizingStyle,v=d.boxSizing;Object.keys(d).forEach(function(p){var b=p;a.style[b]=d[b]}),A(a),a.value=e;var l=N(a,n);a.value=e,l=N(a,n),a.value="x";var f=a.scrollHeight-i,c=f*t;v==="border-box"&&(c=c+i+o),l=Math.max(c,l);var h=f*r;return v==="border-box"&&(h=h+i+o),l=Math.min(h,l),[l,f]}var _=function(){},ce=function(e,t){return e.reduce(function(r,i){return r[i]=t[i],r},{})},he=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],fe=!!document.documentElement.currentStyle,pe=function(e){var t=window.getComputedStyle(e);if(t===null)return null;var r=ce(he,t),i=r.boxSizing;if(i==="")return null;fe&&i==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),d=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:d}},ge=pe;function G(n,e,t){var r=se(t);s.useLayoutEffect(function(){var i=function(d){return r.current(d)};if(n)return n.addEventListener(e,i),function(){return n.removeEventListener(e,i)}},[])}var ve=function(e){G(window,"resize",e)},be=function(e){G(document.fonts,"loadingdone",e)},xe=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],me=function(e,t){var r=e.cacheMeasurements,i=e.maxRows,o=e.minRows,d=e.onChange,v=d===void 0?_:d,l=e.onHeightChange,f=l===void 0?_:l,c=oe(e,xe),h=c.value!==void 0,p=s.useRef(null),b=de(p,t),H=s.useRef(0),y=s.useRef(),x=function(){var g=p.current,z=r&&y.current?y.current:ge(g);if(z){y.current=z;var m=le(z,g.value||g.placeholder||"x",o,i),S=m[0],j=m[1];H.current!==S&&(H.current=S,g.style.setProperty("height",S+"px","important"),f(S,{rowHeight:j}))}},L=function(g){h||x(),v(g)};return s.useLayoutEffect(x),ve(x),be(x),s.createElement("textarea",I({},c,{onChange:L,ref:b}))},Se=s.forwardRef(me),U=ie(({style:n,minRows:e=3,maxRows:t=8,cacheMeasurements:r=!1,disableAutosize:i=!1,onHeightChange:o,...d},v)=>{const{Component:l,label:f,description:c,startContent:h,endContent:p,hasHelper:b,shouldLabelBeOutside:H,shouldLabelBeInside:y,isInvalid:x,errorMessage:L,getBaseProps:R,getLabelProps:g,getInputProps:z,getInnerWrapperProps:m,getInputWrapperProps:S,getHelperWrapperProps:j,getDescriptionProps:Y,getErrorMessageProps:D,isClearable:T,getClearButtonProps:W}=re({...d,ref:v,isMultiline:!0}),[K,X]=s.useState(e>1),[Z,q]=s.useState(!1),P=f?u.jsx("label",{...g(),children:f}):null,C=z(),J=(w,E)=>{if(e===1&&X(w>=E.rowHeight*2),t>e){const te=w>=t*E.rowHeight;q(te)}o==null||o(w,E)},F=i?u.jsx("textarea",{...C,style:O(C.style,n??{})}):u.jsx(Se,{...C,cacheMeasurements:r,"data-hide-scroll":B(!Z),maxRows:t,minRows:e,style:O(C.style,n??{}),onHeightChange:J}),Q=s.useMemo(()=>T?u.jsx("button",{...W(),children:u.jsx(ne,{})}):null,[T,W]),V=s.useMemo(()=>h||p?u.jsxs("div",{...m(),children:[h,F,p]}):u.jsx("div",{...m(),children:F}),[h,C,p,m]),M=x&&L,ee=M||c;return u.jsxs(l,{...R(),children:[H?P:null,u.jsxs("div",{...S(),"data-has-multiple-rows":B(K),children:[y?P:null,V,Q]}),b&&ee?u.jsx("div",{...j(),children:M?u.jsx("div",{...D(),children:L}):u.jsx("div",{...Y(),children:c})}):null]})});U.displayName="NextUI.Textarea";var Re=U;export{Re as t};
