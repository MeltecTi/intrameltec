import{r as n,j as t,b as w}from"./app-1e18f165.js";import{r as a}from"./index-9cea6974.js";import"./index-5e22a342.js";function k({refreshAccessToken:d}){const[h,m]=n.useState([]),[i,l]=n.useState(3);n.useEffect(()=>{const e=()=>{window.innerWidth<640?l(1):window.innerWidth<1024?l(2):l(3)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]);const u=async()=>{const e=localStorage.getItem("refresh_token");let s;const o=3599;if(!s||Date.now()>parseInt(o,10))try{if(await d(),s=localStorage.getItem("access_token"),!s){alert("No se pudo obtener un token válido.");return}}catch(r){alert("Error al renovar el token: "+r.message);return}try{const r=await w.get("https://internal.meltec.com.co/articulos-archivos",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${s}`},refresh_token:e});m(r.data.files||[])}catch(r){console.error("Error al listar archivos:",r)}},x=(e,s)=>{const o=[];for(let r=0;r<e.length;r+=s)o.push(e.slice(r,r+s));return o};n.useEffect(()=>{u()},[]);const c=x(h,i);return t.jsx("div",{className:"p-4",children:c.length>0?t.jsx(a.Carousel,{className:"rounded-xl overflow-hidden w-full h-[400px]",prevArrow:({handlePrev:e})=>t.jsx(a.IconButton,{variant:"text",color:"cyan",size:"lg",onClick:e,className:"!absolute top-2/4 left-4 -translate-y-2/4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-6 w-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5L3 12m0 0l7.5-7.5M3 12h18"})})}),nextArrow:({handleNext:e})=>t.jsx(a.IconButton,{variant:"text",color:"cyan",size:"lg",onClick:e,className:"!absolute top-2/4 !right-4 -translate-y-2/4",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"h-6 w-6",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})}),children:c.map((e,s)=>t.jsx("div",{className:"flex justify-center items-center h-full w-full",children:e.map((o,r)=>t.jsxs("a",{href:o.webViewLink,className:"flex flex-col items-center bg-gradient-to-b from-[#395181] via-[#446099] to-[#5072b6] p-4 rounded-xl shadow-lg transition-transform hover:scale-105 w-full sm:w-auto ml-2",target:"_blank",rel:"noopener noreferrer",children:[t.jsx("img",{src:o.thumbnailLink,className:"h-[250px] w-[250px] object-cover rounded-lg"}),t.jsx("p",{className:"mt-3 font-bold text-sm max-w-full line-clamp-3 text-white w-[210px] text-center",children:o.file_name})]},r))},s))},i):t.jsx("div",{className:"text-center text-gray-600 text-lg font-semibold",children:"No se encontraron artículos."})})}export{k as default};
