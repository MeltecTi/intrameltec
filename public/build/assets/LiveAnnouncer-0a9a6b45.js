import{r as s}from"./app-1e18f165.js";function h(o,e){const t=s.useRef(!0),r=s.useRef(null);s.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),s.useEffect(()=>{t.current?t.current=!1:(!r.current||e.some((l,a)=>!Object.is(l,r[a])))&&o(),r.current=e},e)}const d=7e3;let i=null;function f(o,e="assertive",t=d){i?i.announce(o,e,t):(i=new u,(typeof IS_REACT_ACT_ENVIRONMENT=="boolean"?IS_REACT_ACT_ENVIRONMENT:typeof jest<"u")?i.announce(o,e,t):setTimeout(()=>{i!=null&&i.isAttached()&&(i==null||i.announce(o,e,t))},100))}function p(o){i&&i.clear(o)}class u{isAttached(){var e;return(e=this.node)===null||e===void 0?void 0:e.isConnected}createLog(e){let t=document.createElement("div");return t.setAttribute("role","log"),t.setAttribute("aria-live",e),t.setAttribute("aria-relevant","additions"),t}destroy(){this.node&&(document.body.removeChild(this.node),this.node=null)}announce(e,t="assertive",r=d){var l,a;if(!this.node)return;let n=document.createElement("div");typeof e=="object"?(n.setAttribute("role","img"),n.setAttribute("aria-labelledby",e["aria-labelledby"])):n.textContent=e,t==="assertive"?(l=this.assertiveLog)===null||l===void 0||l.appendChild(n):(a=this.politeLog)===null||a===void 0||a.appendChild(n),e!==""&&setTimeout(()=>{n.remove()},r)}clear(e){this.node&&((!e||e==="assertive")&&this.assertiveLog&&(this.assertiveLog.innerHTML=""),(!e||e==="polite")&&this.politeLog&&(this.politeLog.innerHTML=""))}constructor(){this.node=null,this.assertiveLog=null,this.politeLog=null,typeof document<"u"&&(this.node=document.createElement("div"),this.node.dataset.liveAnnouncer="true",Object.assign(this.node.style,{border:0,clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"}),this.assertiveLog=this.createLog("assertive"),this.node.appendChild(this.assertiveLog),this.politeLog=this.createLog("polite"),this.node.appendChild(this.politeLog),document.body.prepend(this.node))}}export{h as $,f as a,p as b};
