import{r as m,j as d,b as oe}from"./app-1e18f165.js";import{d as le,a as ne,e as L,c as A,u as q,o as J,b as y}from"./chunk-GH5E4FQB-d59c17be.js";import{t as Q,f as M,m as X,a as U}from"./chunk-UWE6H66T-10fe3d2c.js";import{a as ie,$ as de}from"./focusSafely-0d0e41b4.js";import{$ as ce}from"./useFocusable-37bc966c.js";import{$ as ue}from"./useHover-fbcb60c8.js";import{u as me}from"./index-f461d43a.js";import{u as fe,r as be}from"./chunk-6VC6TS2O-1d40f831.js";import{u as pe}from"./index-20416e40.js";import"./index-4be7962f.js";import"./proxy-1822e291.js";import"./create-factory-27ee3d52.js";function he(){const e=()=>()=>{};return m.useSyncExternalStore(e,()=>!0,()=>!1)}var K=Q({slots:{wrapper:"relative shadow-black/5",zoomedWrapper:"relative overflow-hidden rounded-inherit",img:"relative z-10 opacity-0 shadow-black/5 data-[loaded=true]:opacity-100",blurredImg:["absolute","z-0","inset-0","w-full","h-full","object-cover","filter","blur-lg","scale-105","saturate-150","opacity-30","translate-y-1"]},variants:{radius:{none:{},sm:{},md:{},lg:{},full:{}},shadow:{none:{wrapper:"shadow-none",img:"shadow-none"},sm:{wrapper:"shadow-small",img:"shadow-small"},md:{wrapper:"shadow-medium",img:"shadow-medium"},lg:{wrapper:"shadow-large",img:"shadow-large"}},isZoomed:{true:{img:["object-cover","transform","hover:scale-125"]}},showSkeleton:{true:{wrapper:["group","relative","overflow-hidden","bg-content3 dark:bg-content2"],img:"opacity-0"}},disableAnimation:{true:{img:"transition-none"},false:{img:"transition-transform-opacity motion-reduce:transition-none !duration-300"}}},defaultVariants:{radius:"lg",shadow:"none",isZoomed:!1,isBlurred:!1,showSkeleton:!1},compoundVariants:[{showSkeleton:!0,disableAnimation:!1,class:{wrapper:["before:opacity-100","before:absolute","before:inset-0","before:-translate-x-full","before:animate-[shimmer_2s_infinite]","before:border-t","before:border-content4/30","before:bg-gradient-to-r","before:from-transparent","before:via-content4","dark:before:via-default-700/10","before:to-transparent","after:opacity-100","after:absolute","after:inset-0","after:-z-10","after:bg-content3","dark:after:bg-content2"]}}],compoundSlots:[{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"none",class:"rounded-none"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"full",class:"rounded-full"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"sm",class:"rounded-small"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"md",class:"rounded-md"},{slots:["wrapper","img","blurredImg","zoomedWrapper"],radius:"lg",class:"rounded-large"}]}),G=Q({slots:{base:["flex","flex-col","relative","overflow-hidden","h-auto","outline-none","text-foreground","box-border","bg-content1",...le],header:["flex","p-3","z-10","w-full","justify-start","items-center","shrink-0","overflow-inherit","color-inherit","subpixel-antialiased"],body:["relative","flex","flex-1","w-full","p-3","flex-auto","flex-col","place-content-inherit","align-items-inherit","h-auto","break-words","text-left","overflow-y-auto","subpixel-antialiased"],footer:["p-3","h-auto","flex","w-full","items-center","overflow-hidden","color-inherit","subpixel-antialiased"]},variants:{shadow:{none:{base:"shadow-none"},sm:{base:"shadow-small"},md:{base:"shadow-medium"},lg:{base:"shadow-large"}},radius:{none:{base:"rounded-none",header:"rounded-none",footer:"rounded-none"},sm:{base:"rounded-small",header:"rounded-t-small",footer:"rounded-b-small"},md:{base:"rounded-medium",header:"rounded-t-medium",footer:"rounded-b-medium"},lg:{base:"rounded-large",header:"rounded-t-large",footer:"rounded-b-large"}},fullWidth:{true:{base:"w-full"}},isHoverable:{true:{base:"data-[hover=true]:bg-content2 dark:data-[hover=true]:bg-content2"}},isPressable:{true:{base:"cursor-pointer"}},isBlurred:{true:{base:["bg-background/80","dark:bg-background/20","backdrop-blur-md","backdrop-saturate-150"]}},isFooterBlurred:{true:{footer:["bg-background/10","backdrop-blur","backdrop-saturate-150"]}},isDisabled:{true:{base:"opacity-disabled cursor-not-allowed"}},disableAnimation:{true:"",false:{base:"transition-transform-background motion-reduce:transition-none"}}},compoundVariants:[{isPressable:!0,class:"data-[pressed=true]:scale-[0.97] tap-highlight-transparent"}],defaultVariants:{radius:"lg",shadow:"md",fullWidth:!1,isHoverable:!1,isPressable:!1,isDisabled:!1,isFooterBlurred:!1}});function ge(e={}){const{onLoad:l,onError:t,ignoreFallback:i}=e,s=he(),r=m.useRef(s?new Image:null),[c,o]=m.useState("pending");m.useEffect(()=>{r.current&&(r.current.onload=u=>{a(),o("loaded"),l==null||l(u)},r.current.onerror=u=>{a(),o("failed"),t==null||t(u)})},[r.current]);const a=()=>{r.current&&(r.current.onload=null,r.current.onerror=null,r.current=null)};return pe(()=>{s&&o(ve(e,r))},[s]),i?"loaded":c}function ve(e,l){const{loading:t,src:i,srcSet:s,crossOrigin:r,sizes:c,ignoreFallback:o}=e;if(!i)return"pending";if(o)return"loaded";const a=new Image;return a.src=i,r&&(a.crossOrigin=r),s&&(a.srcset=s),c&&(a.sizes=c),t&&(a.loading=t),l.current=a,a.complete&&a.naturalWidth?"loaded":"loading"}var[we,Y]=ne({name:"CardContext",strict:!0,errorMessage:"useCardContext: `context` is undefined. Seems you forgot to wrap component within <Card />"}),ee=M((e,l)=>{var t;const{as:i,className:s,children:r,...c}=e,o=i||"div",a=L(l),{slots:u,classNames:n}=Y(),p=A(n==null?void 0:n.body,s);return d.jsx(o,{ref:a,className:(t=u.body)==null?void 0:t.call(u,{class:p}),...c,children:r})});ee.displayName="HeroUI.CardBody";var xe=ee,se=M((e,l)=>{var t;const{as:i,className:s,children:r,...c}=e,o=i||"div",a=L(l),{slots:u,classNames:n}=Y(),p=A(n==null?void 0:n.header,s);return d.jsx(o,{ref:a,className:(t=u.header)==null?void 0:t.call(u,{class:p}),...c,children:r})});se.displayName="HeroUI.CardHeader";var ke=se;function ye(e){var l,t,i,s;const r=q(),[c,o]=X(e,G.variantKeys),{ref:a,as:u,children:n,onClick:p,onPress:C,autoFocus:g,className:f,classNames:b,allowTextSelectionOnPress:V=!0,...I}=c,x=L(a),_=u||(e.isPressable?"button":"div"),P=typeof _=="string",h=(t=(l=e.disableAnimation)!=null?l:r==null?void 0:r.disableAnimation)!=null?t:!1,k=(s=(i=e.disableRipple)!=null?i:r==null?void 0:r.disableRipple)!=null?s:!1,$=A(b==null?void 0:b.base,f),{onClear:R,onPress:W,ripples:z}=fe(),B=m.useCallback(w=>{k||h||x.current&&W(w)},[k,h,x,W]),{buttonProps:D,isPressed:N}=me({onPress:ie(C,B),elementType:u,isDisabled:!e.isPressable,onClick:p,allowTextSelectionOnPress:V,...I},x),{hoverProps:F,isHovered:H}=ue({isDisabled:!e.isHoverable,...I}),{isFocusVisible:S,isFocused:E,focusProps:v}=ce({autoFocus:g}),j=m.useMemo(()=>G({...o,disableAnimation:h}),[J(o),h]),O=m.useMemo(()=>({slots:j,classNames:b,disableAnimation:h,isDisabled:e.isDisabled,isFooterBlurred:e.isFooterBlurred,fullWidth:e.fullWidth}),[j,b,e.isDisabled,e.isFooterBlurred,h,e.fullWidth]),T=m.useCallback((w={})=>({ref:x,className:j.base({class:$}),tabIndex:e.isPressable?0:-1,"data-hover":y(H),"data-pressed":y(N),"data-focus":y(E),"data-focus-visible":y(S),"data-disabled":y(e.isDisabled),...de(e.isPressable?{...D,...v,role:"button"}:{},e.isHoverable?F:{},U(I,{enabled:P}),U(w))}),[x,j,$,P,e.isPressable,e.isHoverable,e.isDisabled,H,N,S,D,v,F,I]),Z=m.useCallback(()=>({ripples:z,onClear:R}),[z,R]);return{context:O,domRef:x,Component:_,classNames:b,children:n,isHovered:H,isPressed:N,disableAnimation:h,isPressable:e.isPressable,isHoverable:e.isHoverable,disableRipple:k,handlePress:B,isFocusVisible:S,getCardProps:T,getRippleProps:Z}}var re=M((e,l)=>{const{children:t,context:i,Component:s,isPressable:r,disableAnimation:c,disableRipple:o,getCardProps:a,getRippleProps:u}=ye({...e,ref:l});return d.jsxs(s,{...a(),children:[d.jsx(we,{value:i,children:t}),r&&!c&&!o&&d.jsx(be,{...u()})]})});re.displayName="HeroUI.Card";var Ce=re;function Ie(e){var l,t;const i=q(),[s,r]=X(e,K.variantKeys),{ref:c,as:o,src:a,className:u,classNames:n,loading:p,isBlurred:C,fallbackSrc:g,isLoading:f,disableSkeleton:b=!!g,removeWrapper:V=!1,onError:I,onLoad:x,srcSet:_,sizes:P,crossOrigin:h,...k}=s,$=ge({src:a,loading:p,onError:I,onLoad:x,ignoreFallback:!1,srcSet:_,sizes:P,crossOrigin:h}),R=(t=(l=e.disableAnimation)!=null?l:i==null?void 0:i.disableAnimation)!=null?t:!1,W=$==="loaded"&&!f,z=$==="loading"||f,B=e.isZoomed,D=o||"img",N=L(c),{w:F,h:H}=m.useMemo(()=>({w:s.width?typeof s.width=="number"?`${s.width}px`:s.width:"fit-content",h:s.height?typeof s.height=="number"?`${s.height}px`:s.height:"auto"}),[s==null?void 0:s.width,s==null?void 0:s.height]),S=(!a||!W)&&!!g,E=z&&!b,v=m.useMemo(()=>K({...r,disableAnimation:R,showSkeleton:E}),[J(r),R,E]),j=A(u,n==null?void 0:n.img),O=(w={})=>{const te=A(j,w==null?void 0:w.className);return{src:a,ref:N,"data-loaded":y(W),className:v.img({class:te}),loading:p,srcSet:_,sizes:P,crossOrigin:h,...k,style:{...(k==null?void 0:k.height)&&{height:H},...w.style,...k.style}}},T=m.useCallback(()=>{const w=S?{backgroundImage:`url(${g})`}:{};return{className:v.wrapper({class:n==null?void 0:n.wrapper}),style:{...w,maxWidth:F}}},[v,S,g,n==null?void 0:n.wrapper,F]),Z=m.useCallback(()=>({src:a,"aria-hidden":y(!0),className:v.blurredImg({class:n==null?void 0:n.blurredImg})}),[v,a,n==null?void 0:n.blurredImg]);return{Component:D,domRef:N,slots:v,classNames:n,isBlurred:C,disableSkeleton:b,fallbackSrc:g,removeWrapper:V,isZoomed:B,isLoading:z,getImgProps:O,getWrapperProps:T,getBlurredImgProps:Z}}var ae=M((e,l)=>{const{Component:t,domRef:i,slots:s,classNames:r,isBlurred:c,isZoomed:o,fallbackSrc:a,removeWrapper:u,disableSkeleton:n,getImgProps:p,getWrapperProps:C,getBlurredImgProps:g}=Ie({...e,ref:l}),f=d.jsx(t,{ref:i,...p()});if(u)return f;const b=d.jsx("div",{className:s.zoomedWrapper({class:r==null?void 0:r.zoomedWrapper}),children:f});return c?d.jsxs("div",{...C(),children:[o?b:f,m.cloneElement(f,g())]}):o||!n||a?d.jsxs("div",{...C(),children:[" ",o?b:f]}):f});ae.displayName="HeroUI.Image";var Ne=ae;function De({refreshAccessToken:e}){const[l,t]=m.useState([]),i=async()=>{const s=localStorage.getItem("refresh_token");let r;const c=3599,o=Date.now()>parseInt(c,10);if(!r||o)try{if(await e(),r=localStorage.getItem("access_token"),!r){alert("No se pudo obtener un token válido.");return}}catch(a){alert("Error al renovar el token: "+a.message);return}try{const a=await oe.get("https://internal.meltec.com.co/articulos-archivos",{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${r}`},refresh_token:s});a.data.files?t(a.data.files):t([])}catch(a){console.error("Error al listar archivos:",a)}};return m.useEffect(()=>{i()},[]),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 p-4",children:l.length>0?l.map((s,r)=>d.jsxs(Ce,{className:"max-w-xs mx-auto",children:[d.jsx(ke,{className:"items-start bg-gradient-to-b from-[#395181] via-[#395181] to-[#395181] text-white p-4",children:d.jsx("h4",{className:"font-bold text-sm max-w-full line-clamp-2",children:s.file_name})}),d.jsx(xe,{className:"overflow-visible items-center bg-gradient-to-b from-[#395181] via-[#446099] to-[#5072b6] p-4",children:s.thumbnailLink?d.jsx("a",{href:s.webViewLink,target:"_blank",rel:"noopener noreferrer",children:d.jsx(Ne,{alt:"Card background",className:"object-cover rounded-xl shadow-md shadow-white mb-3 transform hover:scale-110 transition-transform duration-300",src:s.thumbnailLink,width:260,height:150})}):d.jsx("div",{children:d.jsx("p",{children:"No se tiene imagen"})})})]},r)):d.jsx("div",{children:d.jsx("p",{children:"No se encontró el artículo"})})})}export{De as default};
