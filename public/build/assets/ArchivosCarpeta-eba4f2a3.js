import{r as a,R as h,j as t,_ as E,b as k}from"./app-1e18f165.js";import{m as S}from"./proxy-a661e4d0.js";import{u as z}from"./index-87e1e468.js";import{t as C,a as A,b as m,c as d,d as x,e as r}from"./chunk-YRZGWF2W-66605d98.js";import"./create-factory-27ee3d52.js";import"./create-visual-element-9a8f1057.js";import"./accelerated-values-d283ed35.js";import"./focusSafely-0d0e41b4.js";import"./useControlledState-0b6c3be6.js";import"./index-1246260e.js";import"./index-20416e40.js";import"./chunk-UWE6H66T-10fe3d2c.js";import"./index-4be7962f.js";import"./chunk-GH5E4FQB-d59c17be.js";import"./Cell-ac88c214.js";import"./SelectionManager-72778fb6.js";import"./FocusScope-34698c61.js";import"./useCollator-f8b7b7a1.js";import"./getScrollParent-84ae6cc8.js";import"./useFocusable-37bc966c.js";import"./LiveAnnouncer-0a9a6b45.js";import"./useLocalizedStringFormatter-6dfb6611.js";import"./useCheckboxGroupItem-fe2e6ce0.js";import"./useFormValidation-711bb887.js";import"./useFormReset-2e1c4ba3.js";import"./useHover-fbcb60c8.js";import"./chunk-UX7UMZL5-0433f114.js";import"./mergeRefs-2b78dc7b.js";import"./VisuallyHidden-6788c411.js";const I=h.lazy(()=>E(()=>import("./ViewFiles-a599772d.js"),["assets/ViewFiles-a599772d.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/proxy-a661e4d0.js","assets/create-factory-27ee3d52.js","assets/create-visual-element-9a8f1057.js","assets/accelerated-values-d283ed35.js","assets/chunk-KMN6V4NS-45834527.js","assets/chunk-UWE6H66T-765a7095.js","assets/index-4be7962f.js","assets/chunk-XHQUSKIE-c5e0d731.js","assets/chunk-736YWA4T-0c999bc3.js","assets/useDialog-1281e82d.js","assets/useLabels-bd056dc8.js","assets/focusSafely-0d0e41b4.js","assets/useLocalizedStringFormatter-6dfb6611.js","assets/VisuallyHidden-6788c411.js","assets/useFocusable-37bc966c.js","assets/Overlay-e3689e7a.js","assets/getScrollParent-84ae6cc8.js","assets/FocusScope-34698c61.js","assets/proxy-1822e291.js","assets/useOverlayTriggerState-20dfbcae.js","assets/useControlledState-0b6c3be6.js","assets/index-dc85cc98.js","assets/chunk-RFEIBVIG-7ed02666.js","assets/mergeRefs-2b78dc7b.js","assets/chunk-3S23ARPO-e576983a.js","assets/chunk-DBLREEYE-6b14ae71.js","assets/chunk-RJKRL3AU-284c64b8.js","assets/chunk-GQT3YUX3-05826e1a.js","assets/useHover-fbcb60c8.js","assets/chunk-6NL67ZRH-a7aa1da5.js","assets/chunk-TDOFO53L-d21b4ec9.js"]));function lt({folderID:s,refreshAccessToken:c}){const[i,u]=a.useState([]),[p,_]=a.useState(null),{isOpen:f,onOpen:j,onClose:b}=z(),[y,g]=h.useState("md"),v=["full"],N=(e,o)=>{g(o),_(e),j()},w=async()=>{let e=localStorage.getItem("access_token");const o=3599,l=Date.now()>parseInt(o,10);if((!e||l)&&(await c(),e=localStorage.getItem("access_token")),!e){console.error("No se pudo obtener un token vÃ¡lido.");return}try{const n=await k.get(`https://internal.meltec.com.co/empresarial/lista/${s}`,{headers:{"Content-Type":"multipart/form-data",Authorization:`Bearer ${e}`}});u(n.data.files||[])}catch(n){console.error("Error al listar archivos:",n)}};return a.useEffect(()=>{s&&w()},[s]),t.jsxs(S.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.7},className:"p-4 bg-gray-200 rounded-lg shadow-lg mt-10",children:[t.jsxs(C,{"aria-label":"Example static collection table",children:[t.jsxs(A,{children:[t.jsx(m,{className:"text-center",children:"Archivo"}),t.jsx(m,{className:"text-center",children:"/"})]}),i?t.jsx(d,{children:i.length>0?i.map((e,o)=>t.jsxs(x,{className:"text-center",children:[t.jsx(r,{className:"text-sm p-1",children:e.file_name}),t.jsx(r,{children:v.map(l=>t.jsx("button",{className:"py-3 px-4 text-center w-[60px] bg-[#395181] rounded-xl text-white ml-3 duration-200 hover:bg-[#4c6baa] ",onClick:()=>N(e.id,l),children:" Ver "}))})]},o)):t.jsxs(x,{children:[t.jsx(r,{children:"No see encontraron"}),t.jsx(r,{children:"archivos en esta carpeta"})]})}):t.jsx(d,{emptyContent:"No rows to display.",children:[]})]}),t.jsx("div",{children:p&&t.jsx(a.Suspense,{fallback:t.jsx("p",{className:"text-gray-500",children:"Cargando archivos..."}),children:t.jsx(I,{size:y,open:f,close:b,fileID:p,refreshAccessToken:c})})})]})}export{lt as default};
