import{r as a,j as e,b as d}from"./app-1e18f165.js";import{u as m,S as u}from"./notistack.esm-5ab8ec6f.js";import"./clsx.m-1229b3e0.js";const f=()=>{const[h,n]=a.useState(null);m();const l=async()=>{const c="https://accounts.google.com/o/oauth2/auth?client_id=714516731386-9av4nplhrj4ssu4j79psumo7pur8unpl.apps.googleusercontent.com&redirect_uri=https://internal.meltec.com.co/dashboard&response_type=code&access_type=offline&prompt=consent&scope=https://www.googleapis.com/auth/drive.file";window.location.href=c},i=async()=>{const s=new URLSearchParams(window.location.search).get("code");if(console.log("este es el code que devuelve ",s),s)try{const o=await d.get(`https://internal.meltec.com.co/auth/exchange-token?code=${s}`),{access_token:c,refresh_token:r}=o.data;console.log(o.data),c&&localStorage.setItem("access_token",c),r&&localStorage.setItem("refresh_token",r),alert("Autenticación completada con éxito.")}catch(o){console.error("Error al obtener los tokens:",o)}};return a.useEffect(()=>{const t=localStorage.getItem("access_token");localStorage.setItem("refresh_token","1//058OGBxklT9XOCgYIARAAGAUSNwF-L9IrM24Hx4DgYBbfETA5qRHZdB2nySgdcMjvTHtSR3iQbElR_i7n-_3oyfveUak9XbDLutk"),console.log(localStorage.getItem("refresh_token")),t?n(t):i()},[]),e.jsx(u,{maxSnack:3,children:e.jsxs("div",{className:"my-5 mx-auto max-w-4xl bg-white overflow-hidden shadow-lg sm:rounded-lg p-8",children:[e.jsx("div",{className:"text-center mb-5",children:e.jsx("h2",{className:"text-2xl font-semibold text-gray-800",children:"Gracias por iniciar con Google, para terminar el registro termina con el ultimo paso."})}),e.jsx("div",{className:"flex flex-col items-center border-2 border-gray-300 rounded-lg p-10",children:e.jsx("button",{className:"px-6 py-3 mb-5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 focus:outline-none",onClick:l,children:"Autenticar"})})]})})};export{f as default};
