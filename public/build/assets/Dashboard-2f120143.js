import{r as l,b as z,R as m,j as t,a as F,_ as f}from"./app-1e18f165.js";import{u as Q}from"./useTrm-e522f8fd.js";import{d as U}from"./dateHelper-1fb4c2f0.js";import{S as W}from"./SapLoader-1dbbbffd.js";import{u as N}from"./index-87e1e468.js";import{b as Y}from"./chunk-XJ3PDX4B-17cba00c.js";import{m as T}from"./proxy-a661e4d0.js";import"./focusSafely-0d0e41b4.js";import"./useControlledState-0b6c3be6.js";import"./index-1246260e.js";import"./index-20416e40.js";import"./chunk-GH5E4FQB-d59c17be.js";import"./useFocusable-37bc966c.js";import"./chunk-UWE6H66T-10fe3d2c.js";import"./index-4be7962f.js";import"./chunk-MQ3ILONP-ea58cde4.js";import"./index-f461d43a.js";import"./useHover-fbcb60c8.js";import"./chunk-6VC6TS2O-1d40f831.js";import"./proxy-1822e291.js";import"./create-factory-27ee3d52.js";import"./create-visual-element-9a8f1057.js";import"./accelerated-values-d283ed35.js";const Z=()=>{const[e,r]=l.useState(null),[s,a]=l.useState(null),[d,n]=l.useState(null),c=async()=>{try{r(!0),n(null);const o=await z(route("masterdata.salestoday"));if(o.status!==200)throw r(!1),new Error("Error al obtener los datos del Servidor");n(o.data),r(!1)}catch{r(!1),n(null),a(!0)}};return l.useEffect(()=>{c()},[]),{loaderKpiSap:e,error:s,kpi:d,getData:c}};var D=new Map,A=new WeakMap,k=0,G=void 0;function J(e){return e?(A.has(e)||(k+=1,A.set(e,k.toString())),A.get(e)):"0"}function X(e){return Object.keys(e).sort().filter(r=>e[r]!==void 0).map(r=>`${r}_${r==="root"?J(e.root):e[r]}`).toString()}function ee(e){const r=X(e);let s=D.get(r);if(!s){const a=new Map;let d;const n=new IntersectionObserver(c=>{c.forEach(o=>{var u;const h=o.isIntersecting&&d.some(p=>o.intersectionRatio>=p);e.trackVisibility&&typeof o.isVisible>"u"&&(o.isVisible=h),(u=a.get(o.target))==null||u.forEach(p=>{p(h,o)})})},e);d=n.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),s={id:r,observer:n,elements:a},D.set(r,s)}return s}function te(e,r,s={},a=G){if(typeof window.IntersectionObserver>"u"&&a!==void 0){const u=e.getBoundingClientRect();return r(a,{isIntersecting:a,target:e,intersectionRatio:typeof s.threshold=="number"?s.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),()=>{}}const{id:d,observer:n,elements:c}=ee(s),o=c.get(e)||[];return c.has(e)||c.set(e,o),o.push(r),n.observe(e),function(){o.splice(o.indexOf(r),1),o.length===0&&(c.delete(e),n.unobserve(e)),c.size===0&&(n.disconnect(),D.delete(d))}}function re({threshold:e,delay:r,trackVisibility:s,rootMargin:a,root:d,triggerOnce:n,skip:c,initialInView:o,fallbackInView:u,onChange:h}={}){var p;const[v,R]=l.useState(null),b=l.useRef(h),[w,S]=l.useState({inView:!!o,entry:void 0});b.current=h,l.useEffect(()=>{if(c||!v)return;let g;return g=te(v,(E,_)=>{S({inView:E,entry:_}),b.current&&b.current(E,_),_.isIntersecting&&n&&g&&(g(),g=void 0)},{root:d,rootMargin:a,threshold:e,trackVisibility:s,delay:r},u),()=>{g&&g()}},[Array.isArray(e)?e.toString():e,v,d,a,n,c,s,u,r]);const j=(p=w.entry)==null?void 0:p.target,O=l.useRef(void 0);!v&&j&&!n&&!c&&O.current!==j&&(O.current=j,S({inView:!!o,entry:void 0}));const x=[R,w.inView,w.entry];return x.ref=x[0],x.inView=x[1],x.entry=x[2],x}/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),V=(...e)=>e.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var oe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=l.forwardRef(({color:e="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:d="",children:n,iconNode:c,...o},u)=>l.createElement("svg",{ref:u,...oe,width:r,height:r,stroke:e,strokeWidth:a?Number(s)*24/Number(r):s,className:V("lucide",d),...o},[...c.map(([h,p])=>l.createElement(h,p)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=(e,r)=>{const s=l.forwardRef(({className:a,...d},n)=>l.createElement(ne,{ref:n,iconNode:r,className:V(`lucide-${se(e)}`,a),...d}));return s.displayName=`${e}`,s};/**
 * @license lucide-react v0.476.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ce=ie("ChevronDown",ae),le=m.lazy(()=>f(()=>import("./AuthenticatedLayout-35ef529f.js"),["assets/AuthenticatedLayout-35ef529f.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/Icons-b91f86eb.js","assets/chunk-GQT3YUX3-05826e1a.js","assets/chunk-UWE6H66T-765a7095.js","assets/index-4be7962f.js","assets/chunk-RFEIBVIG-7ed02666.js","assets/transition-ae3f1835.js"])),de=m.lazy(()=>f(()=>import("./SideBarMeta-b8d7700f.js"),["assets/SideBarMeta-b8d7700f.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/priceHelper-e503cee0.js","assets/focusSafely-0d0e41b4.js","assets/useFocusable-37bc966c.js","assets/useFormReset-2e1c4ba3.js","assets/useOverlayPosition-f27a92c9.js","assets/useResizeObserver-1f814b9f.js","assets/useLabel-5cfcb98f.js","assets/useLabels-bd056dc8.js","assets/chunk-XHQUSKIE-c5e0d731.js","assets/useHover-fbcb60c8.js","assets/NumberFormatter-d86d7445.js","assets/chunk-UWE6H66T-765a7095.js","assets/index-4be7962f.js","assets/chunk-LY4WDGUU-50d825d9.js","assets/useOverlayTriggerState-20dfbcae.js","assets/FocusScope-34698c61.js","assets/useControlledState-0b6c3be6.js","assets/chunk-WQVQ7P2I-846db4ca.js","assets/chunk-GQT3YUX3-05826e1a.js","assets/chunk-RFEIBVIG-7ed02666.js","assets/chunk-CIZQCQPA-524a6271.js","assets/index-43d4f642.js","assets/chunk-736YWA4T-0c999bc3.js","assets/chunk-RFUEKIFS-0ac119b0.js","assets/proxy-1822e291.js","assets/create-factory-27ee3d52.js","assets/VisuallyHidden-6788c411.js","assets/chunk-RJKRL3AU-284c64b8.js"])),ue=m.lazy(()=>f(()=>import("./RankingVentas-c385ed20.js"),["assets/RankingVentas-c385ed20.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/index-5e22a342.js","assets/chunk-KMN6V4NS-45834527.js","assets/chunk-UWE6H66T-765a7095.js","assets/index-4be7962f.js","assets/chunk-XHQUSKIE-c5e0d731.js","assets/chunk-736YWA4T-0c999bc3.js","assets/useDialog-1281e82d.js","assets/useLabels-bd056dc8.js","assets/focusSafely-0d0e41b4.js","assets/useLocalizedStringFormatter-6dfb6611.js","assets/VisuallyHidden-6788c411.js","assets/useFocusable-37bc966c.js","assets/Overlay-e3689e7a.js","assets/getScrollParent-84ae6cc8.js","assets/FocusScope-34698c61.js","assets/proxy-1822e291.js","assets/create-factory-27ee3d52.js","assets/useOverlayTriggerState-20dfbcae.js","assets/useControlledState-0b6c3be6.js","assets/index-dc85cc98.js","assets/chunk-RFEIBVIG-7ed02666.js","assets/mergeRefs-2b78dc7b.js","assets/chunk-3S23ARPO-e576983a.js","assets/chunk-DBLREEYE-6b14ae71.js","assets/chunk-RJKRL3AU-284c64b8.js","assets/chunk-GQT3YUX3-05826e1a.js","assets/useHover-fbcb60c8.js","assets/chunk-6NL67ZRH-a7aa1da5.js","assets/chunk-TDOFO53L-d21b4ec9.js"])),me=m.lazy(()=>f(()=>import("./ModalDolar-6dc41007.js"),["assets/ModalDolar-6dc41007.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/Trm-ba87638d.js","assets/chunk-KMN6V4NS-45834527.js","assets/chunk-UWE6H66T-765a7095.js","assets/index-4be7962f.js","assets/chunk-XHQUSKIE-c5e0d731.js","assets/chunk-736YWA4T-0c999bc3.js","assets/useDialog-1281e82d.js","assets/useLabels-bd056dc8.js","assets/focusSafely-0d0e41b4.js","assets/useLocalizedStringFormatter-6dfb6611.js","assets/VisuallyHidden-6788c411.js","assets/useFocusable-37bc966c.js","assets/Overlay-e3689e7a.js","assets/getScrollParent-84ae6cc8.js","assets/FocusScope-34698c61.js","assets/proxy-1822e291.js","assets/create-factory-27ee3d52.js","assets/useOverlayTriggerState-20dfbcae.js","assets/useControlledState-0b6c3be6.js","assets/index-dc85cc98.js","assets/chunk-RFEIBVIG-7ed02666.js","assets/mergeRefs-2b78dc7b.js","assets/chunk-3S23ARPO-e576983a.js","assets/chunk-DBLREEYE-6b14ae71.js","assets/chunk-RJKRL3AU-284c64b8.js","assets/chunk-GQT3YUX3-05826e1a.js","assets/useHover-fbcb60c8.js","assets/chunk-6NL67ZRH-a7aa1da5.js","assets/chunk-TDOFO53L-d21b4ec9.js"])),pe=m.lazy(()=>f(()=>import("./HSEQHome-fe8d41f2.js"),["assets/HSEQHome-fe8d41f2.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/chunk-IHO36JMK-b3a8fe4a.js","assets/chunk-UWE6H66T-10fe3d2c.js","assets/index-4be7962f.js"])),he=m.lazy(()=>f(()=>import("./HSEQencuesta-9b52474d.js"),["assets/HSEQencuesta-9b52474d.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/chunk-IHO36JMK-b3a8fe4a.js","assets/chunk-UWE6H66T-10fe3d2c.js","assets/index-4be7962f.js"])),fe=m.lazy(()=>f(()=>import("./ArticuloHome-5375d7a6.js"),["assets/ArticuloHome-5375d7a6.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/chunk-IHO36JMK-b3a8fe4a.js","assets/chunk-UWE6H66T-10fe3d2c.js","assets/index-4be7962f.js"])),xe=m.lazy(()=>f(()=>import("./NovedadesHome-6672633d.js"),["assets/NovedadesHome-6672633d.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/index-9cea6974.js","assets/index-5e22a342.js","assets/ModalRenderImg-c0f392dd.js","assets/chunk-KMN6V4NS-45834527.js","assets/chunk-UWE6H66T-765a7095.js","assets/index-4be7962f.js","assets/chunk-XHQUSKIE-c5e0d731.js","assets/chunk-736YWA4T-0c999bc3.js","assets/useDialog-1281e82d.js","assets/useLabels-bd056dc8.js","assets/focusSafely-0d0e41b4.js","assets/useLocalizedStringFormatter-6dfb6611.js","assets/VisuallyHidden-6788c411.js","assets/useFocusable-37bc966c.js","assets/Overlay-e3689e7a.js","assets/getScrollParent-84ae6cc8.js","assets/FocusScope-34698c61.js","assets/proxy-1822e291.js","assets/create-factory-27ee3d52.js","assets/useOverlayTriggerState-20dfbcae.js","assets/useControlledState-0b6c3be6.js","assets/index-dc85cc98.js","assets/chunk-RFEIBVIG-7ed02666.js","assets/mergeRefs-2b78dc7b.js","assets/ModalRenderHref-8e135bf2.js","assets/index-87e1e468.js","assets/index-1246260e.js","assets/index-20416e40.js","assets/chunk-IHO36JMK-b3a8fe4a.js","assets/chunk-UWE6H66T-10fe3d2c.js"])),ge=m.lazy(()=>f(()=>import("./CarruselArticulos-63991605.js"),["assets/CarruselArticulos-63991605.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/CarruselArt-4d482570.js","assets/index-9cea6974.js","assets/index-5e22a342.js","assets/chunk-IHO36JMK-b3a8fe4a.js","assets/chunk-UWE6H66T-10fe3d2c.js","assets/index-4be7962f.js"])),ve=m.lazy(()=>f(()=>import("./CotizadoresHome-53cfb610.js"),["assets/CotizadoresHome-53cfb610.js","assets/app-1e18f165.js","assets/app-bc3ce7a4.css","assets/chunk-IHO36JMK-b3a8fe4a.js","assets/chunk-UWE6H66T-10fe3d2c.js","assets/index-4be7962f.js"]));function $e({auth:e,unreadNotifications:r,OdataMeta:s,OdataRanking:a,TotalVentasHoy:d}){const n=s.map(i=>i.total),c=d.map(i=>i.totalVentas),{valores:o,loading:u,trmInCop:h}=Q(),{loaderKpiSap:p,error:v,kpi:R,getData:b}=Z(),{isOpen:w,onOpen:S,onClose:j}=N(),{isOpen:O,onOpen:x,onClose:g}=N(),[E,_]=l.useState(null),[L,P]=m.useState("md"),[M,H]=m.useState("md"),C=["5xl"],B=i=>{P(i),S()},$=i=>{H(i),x()},y=({children:i})=>{const{ref:I,inView:q}=re({triggerOnce:!1,threshold:.2});return t.jsx(T.div,{ref:I,initial:{opacity:0,y:50},animate:q?{opacity:1,y:0}:{opacity:0,y:50},exit:{opacity:0,y:50},transition:{duration:.8,ease:"easeOut"},className:"rounded-lg shadow-lg mt-10",children:i})};l.useEffect(()=>{z.get("/user",{withCredentials:!0}).then(i=>{const I=i.data.google_access_token;_(I)}).catch(()=>{_(null)})},[]);const K=()=>{const i=document.getElementById("Home");i&&i.scrollIntoView({behavior:"smooth"})};return t.jsxs(le,{auth:e,unreadNotifications:r,header:t.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Inicio Meltec Comunicaciones S.A"}),children:[t.jsx(F,{title:"Dashboard"}),t.jsx("main",{className:"overflow-y-auto",children:t.jsxs("div",{className:"my-5 bg-white overflow-hidden shadow-lg sm:rounded-lg p-8",children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-4 sm:space-y-0 items-center",children:[t.jsxs("div",{className:"bg-[#395181] text-center w-[130px] overflow-hidden shadow-lg sm:rounded-lg hover:bg-[#5b7ab8] cursor-pointer",children:[C.map(i=>t.jsxs("button",{className:"text-white text-center text-lg items-center w-[100px]",onClick:()=>B(i),color:"#395181",children:["Dolar hoy: ",h]},i)),t.jsx(me,{size:L,open:w,close:j,valores:o,trmInCop:h})]}),t.jsxs("div",{className:"bg-[#395181] text-center w-[130px] overflow-hidden shadow-lg sm:rounded-lg hover:bg-[#5b7ab8] cursor-pointer",children:[C.map(i=>t.jsx("button",{className:"text-white text-center text-lg items-center w-[100px]",onClick:()=>$(i),color:"#395181",children:"Ranking de Ventas"},i)),t.jsx(ue,{size:M,open:O,close:g,OdataRanking:a,totalRankingRevenue:c})]})]}),t.jsxs("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-4 text-",children:[t.jsxs("h2",{className:"font-bold text-xl text-center py-2",children:["Meta Meltec ",new Date().getFullYear()]}),t.jsxs("h5",{className:"text-right p-4 font-semibold italic text-zinc-600/50",children:["Ultima Actualizacion: ",t.jsx("span",{children:U(new Date)})]}),p&&t.jsx(W,{message:"Obteniendo Meta Actual. Por favor espere..."}),R&&t.jsx(de,{kpi:R,totalRevenue:n}),v&&t.jsx("h3",{className:"text-center bg-red-500 rounded-md py-6 text-white font-bold",children:"Error al Obtener los datos de ventas de SAP -   Contacte con Administrador del sistema para m�s informaci�n"}),t.jsx("div",{className:"flex justify-end m-2",children:t.jsx(Y,{color:"secondary",isDisabled:p,onPress:b,children:"Regenerando"})})]}),t.jsx(T.div,{animate:{y:[0,10,0]},transition:{duration:1,repeat:1/0,ease:"easeInOut"},className:"flex justify-center mt-5",children:t.jsx(ce,{onClick:K,size:40,className:"text-gray-700 cursor-pointer"})}),t.jsx("div",{id:"Home"}),t.jsx(y,{children:t.jsx(pe,{})}),t.jsx(y,{children:t.jsx(he,{})}),t.jsx(y,{children:t.jsx(ve,{})}),t.jsx(y,{children:t.jsx(fe,{})}),t.jsx(y,{children:t.jsx(xe,{})}),t.jsx(y,{children:E&&t.jsx(ge,{usertoken:E})})]})})]})}export{$e as default};
